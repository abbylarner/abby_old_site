@import 'reset';
@import 'variables';
@import url(http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|Marcellus);

@mixin font($em){
    font-size: ($em*16) + px;
    font-size: ($em) + em;
}

@mixin mask {
	mask-image:  url(../images/text-mask.png);
	-webkit-mask-image: url(../images/text-mask.png);
	-o-mask-image: url(../images/text-mask.png);
	-moz-mask-image: url(../images/text-mask.png);
	mask-type: luminance;
}

body {
	background: $neutral;
	box-sizing: border-box;
	background: url(../images/tan-bg.png) 0 0 repeat;
}

p {
	font-weight: 300;
	padding: 15px 0;
	line-height: 1.6em;
	font-family: 'Marcellus', serif;	
}

a {
	font-family: 'PT Sans Narrow', sans-serif;
	font-weight: 700;
	color: $primary-color;
	text-transform: uppercase;
	text-decoration: none;
	@include font(1.05);
}

a:hover {
	mask-image:  url(../images/text-mask.png);
		-webkit-mask-image: url(../images/text-mask.png);
		-o-mask-image: url(../images/text-mask.png);
		-moz-mask-image: url(../images/text-mask.png);
		mask-type: luminance;
}

h1,h2,h3,h4,h5,h6 {
	font-family: 'PT Sans Narrow', sans-serif;
	font-weight: 700;
	opacity:.85;
}


h2 {
	@include font(2.5);
}

h3 {
	@include font(3);
	text-transform: uppercase;
	color: rgba(211,83,37,.85);
	@include mask;
}

header {	
	h1 {
		@include font(5);
		color: $primary-color;
		text-transform: uppercase;
		-webkit-text-stroke: 2px $dark-grey;
		max-width: 40%;
		padding: 15px;
		// text-shadow: -3px 3px rgba(211,83,38,.5);
		&:after {
			content: "";
			background: url("../images/dancing-woman.png") 0 0 no-repeat;
			width: 175px;
			height: 300px;
			background-size: contain;
			position: absolute;
			right: 0;
			top: 0;
			z-index: -1;
		}
	}

	h2 {
		font-family: 'Marcellus', cursive;
		@include font(1.75);
		font-style: italic;
		font-weight: 400;
		padding: 0 15px 0 15px;
		margin-top: 40px;

		&:before {
			display: block;
			width: 100%;
			border-top: 2px solid #000;
			content: "";
			margin-top: -45px;
			height: 25px;
		}
	}
}

.main-supporting {
	position: relative;
}

.summary {
	clear: both;
	margin-bottom: 100px;
	p {
		padding: 50px 15px 15px 15px;

		&:last-child {
			padding-top: 0;
		}
	}
}

.preamble {
	position: relative;
	&:before {
		content: "";
		background: url("../images/bike.gif") 0 0 no-repeat;
		mask-image:  none;
		-webkit-mask-image: none;
		-o-mask-image: none;
		-moz-mask-image: none;
		opacity: 1;
		width: 250px;
		height: 250px;
		position: relative;
		top: 100px;
		left: 30px;
		display: inline-block;
		background-size: contain;
		-webkit-transform: rotate(21deg);

		/* Firefox */
		-moz-transform: rotate(21deg);

		/* IE */
		-ms-transform: rotate(21deg);

		/* Opera */
		-o-transform: rotate(21deg);

		/* Internet Explorer */
		filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=.666);
	
	}
	h3 {
		// margin-top: 150px;
		// padding: 15px 15%;
		text-transform: uppercase;
		color: rgba(211,83,37,.85);
		position: absolute;
		top: 30px;
		left: 10px;
		z-index: -1;
		-webkit-transform: rotate(21deg);

		/* Firefox */
		-moz-transform: rotate(21deg);

		/* IE */
		-ms-transform: rotate(21deg);

		/* Opera */
		-o-transform: rotate(21deg);

		/* Internet Explorer */
		filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=.666);
	}

	h3 + p {
		position: relative;	
		margin-top: 25px;
			&:before {
				content: "";
				border-left: 0vw solid transparent;
				border-right: 100vw solid transparent;
				border-bottom: 40vw solid rgba(121,106,90,.75);
				display: block;
				mask-image:  url(../images/text-mask.png);
				-webkit-mask-image: url(../images/text-mask.png);
				-o-mask-image: url(../images/text-mask.png);
				-moz-mask-image: url(../images/text-mask.png);
				mask-type: alpha;
				position: relative;
				left: -15px;
				right: 0;
				margin-bottom: 50px;
		}
	}

	p {
		padding: 15px;
	}
}

.explanation {
	h3 {
		text-transform: uppercase;
		color: rgba(211,83,37,.85);
		mask-image:  url(../images/text-mask.png);
		-webkit-mask-image: url(../images/text-mask.png);
		-o-mask-image: url(../images/text-mask.png);
		-moz-mask-image: url(../images/text-mask.png);
		mask-type: luminance;
		z-index: -1;
		margin-top: 40px;
		margin-left: 15px;
		// -webkit-transform: rotate(-21deg);

		// /* Firefox */
		// -moz-transform: rotate(-21deg);

		// /* IE */
		// -ms-transform: rotate(-21deg);

		// Opera
		// -o-transform: rotate(-21deg);

		// /* Internet Explorer */
		// filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=.666);
	}

	h3 + p {

		&:before {
			content: "";
			background: url("../images/cinema.png") 0 0 no-repeat;
			opacity: 1;
			height: 300px;
			background-position: center;
			margin-bottom: 40px;
			display: block;
			background-size: contain;
			z-index: -1;
		}
	}

	p {
		padding: 15px;
	}
}

.participation {
	position: relative;
	margin-top: 60px;
	&:before {
		content: "";
		height: 300px;
		background: url("../images/people2-bg.png") 0 0 no-repeat;
		display: block;
		background-position: center;
		background-size: contain;
		mask-image:  url(../images/text-mask.png);
		-webkit-mask-image: url(../images/text-mask.png);
		-o-mask-image: url(../images/text-mask.png);
		-moz-mask-image: url(../images/text-mask.png);
		mask-type: luminance;
		-webkit-mask-size: contain;
		opacity: 1;
	}

	h3 {
		text-transform: uppercase;
		color: rgba(211,83,37,.85);
		mask-image:  url(../images/text-mask.png);
		-webkit-mask-image: url(../images/text-mask.png);
		-o-mask-image: url(../images/text-mask.png);
		-moz-mask-image: url(../images/text-mask.png);
		mask-type: luminance;
		opacity: .95;
		padding: 15px;
		
	}

	p{
		padding: 15px;
	}
}

.benefits {
	position: relative;
	margin: 60px 0;
	h3 {
		text-transform: uppercase;
		color: rgba(211,83,37,.85);
		mask-image:  url(../images/text-mask.png);
		-webkit-mask-image: url(../images/text-mask.png);
		-o-mask-image: url(../images/text-mask.png);
		-moz-mask-image: url(../images/text-mask.png);
		mask-type: luminance;
		z-index: -1;
		padding: 15px;
	}


	h3 + p {
		&:after {
			content: "";
			display: block;
			width: 300px;
			height: 300px;
			margin-left: -10px;
			background: url("../images/elegant-woman.png") 0 0 no-repeat;
			background-size: contain;
			background-position: center;
		    // shape-outside: polygon(50% 0, 45% 5%, 45% 7%, 45% 10%, 45% 10.5%, 45% 11%, 40% 11%, 35% 11%, 30% 10%, 17% 10%, 11% 12%, 10% 14%, 10% 18%, 10% 16%, 10% 20%, 12% 22%, 15% 22%, 15% 70%, 17% 80%, 18% 83%, 3% 85%, 0 90%, 0 93%, 0 95%, 10% 95%, 50% 97%, 70% 98%, 80% 99%, 90% 98.5%, 95% 97%, 99% 95%, 99% 88%, 95% 86%, 95% 20%, 94% 10%, 97% 5%, 95% 3%, 93% 1%, 67% 7%, 65% 0);
		}
	}

	p {
		padding: 15px;
	}
}

.requirements {
	position: relative;
	h3 {
		text-transform: uppercase;
		color: rgba(211,83,37,.85);
		mask-image:  url(../images/text-mask.png);
		-webkit-mask-image: url(../images/text-mask.png);
		-o-mask-image: url(../images/text-mask.png);
		-moz-mask-image: url(../images/text-mask.png);
		mask-type: luminance;
		z-index: -1;
		padding: 15px;
	}

	p {
		padding: 15px;

		&:last-child {
			background: $dark-grey url("../images/dark-bg.png");
			margin-top: 200px;
			color: $neutral;
			&:before {
				content: "";
				display: block;
				width: 100%;
				height: 200px;
				background: url("../images/cat.png") 0 0 no-repeat;
				background-position: left;
				background-size: contain;
				top: 0;
				margin-top: -210px;
				margin-bottom: 30px;
			}
		}
	}
}


footer {
	padding: 15px;
	background: $dark-grey url("../images/dark-bg.png");
}

aside {
	padding: 40px 15px;
	
	.design-selection, .design-archives {
		margin-bottom: 35px;
	}
	
	h3 {
		text-transform: uppercase;
		color: rgba(211,83,37,.85);
		mask-image:  url(../images/text-mask.png);
		-webkit-mask-image: url(../images/text-mask.png);
		-o-mask-image: url(../images/text-mask.png);
		-moz-mask-image: url(../images/text-mask.png);
		mask-type: luminance;
		margin-bottom: 15px;
	}
	
	li {
		color: $dark-grey;
		padding: 10px 15px 10px 30px;
		a {
			&:hover {
				mask-image:  none;
				-webkit-mask-image: none;
				-o-mask-image: none;
				-moz-mask-image: none;
			}
		}
		&:hover {
				font-weight: bold;
				color: $white;
				mask-image:  url(../images/text-mask.png);
				-webkit-mask-image: url(../images/text-mask.png);
				-o-mask-image: url(../images/text-mask.png);
				-moz-mask-image: url(../images/text-mask.png);
				mask-type: luminance;
				background-color: rgba(211,83,37,.85);
				-webkit-transform: rotate(3deg);

				/* Firefox */
				-moz-transform: rotate(3deg);

				/* IE */
				-ms-transform: rotate(3deg);

				/* Opera */
				-o-transform: rotate(3deg);

				/* Internet Explorer */
				filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=.666);
				
				a {
					color: $dark-grey;
				}
			}
	}
}
@media (min-width: 591px) {
	h3 {
		@include font(5.5);
	}

	.summary, .preamble {
		width: 60%;
	}

	.preamble {
		&:before {
			width: 300px;
			height: 300px;
		}
	}
	header {	
		h1 {
			&:after {
				z-index: 2;
				opacity: 1;
			}
		}

		h2 {
			z-index: -1;
		}
	}
}


